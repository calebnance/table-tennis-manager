$(document).ready(function(){$("input").on("change",function(s){s.preventDefault(),$.validateForm(!1)}),$("#submit-create-account").on("click",function(s){s.preventDefault(),$.validateForm(!0)}),$.validateForm=function(s){$fields=$("#create_account_form .required");var a=/[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}/gim,e=!0;$.each($fields,function(r,o){var l=$(o).val(),t=$(o).attr("name");if(s&&(""==l?($(o).closest(".form-group").addClass("has-error").removeClass("has-success"),e=!1):$(o).closest(".form-group").removeClass("has-error").addClass("has-success")),""!=l||1==s)if("acco_email"==t)a.test(l)?($(o).prev("label").find("span").html("<small> - Is valid!</small>"),$(o).closest(".form-group").addClass("has-success").removeClass("has-error")):($(o).prev("label").find("span").html("<small> - Not valid!</small>"),$(o).closest(".form-group").addClass("has-error").removeClass("has-success"));else if("acco_password"==t){var c=$("#acco_password2").val();""!=c&&(l!=c?($("#acco_password").prev("label").find("span").html("<small> - Passwords do not match</small>"),$("#acco_password").closest(".form-group").addClass("has-error").removeClass("has-success"),$("#acco_password2").closest(".form-group").addClass("has-error").removeClass("has-success")):($("#acco_password").prev("label").find("span").html("<small> - Passwords match!</small>"),$("#acco_password").closest(".form-group").removeClass("has-error").addClass("has-success"),$("#acco_password2").closest(".form-group").removeClass("has-error").addClass("has-success")))}else""==l?($(o).closest(".form-group").addClass("has-error").removeClass("has-success"),e=!1):$(o).closest(".form-group").removeClass("has-error").addClass("has-success")}),s&&e&&$.ajax({url:"create-account.php",type:"POST",dataType:"json",data:$("#create_account_form").serialize()}).done(function(s){$("#message-area").hide().html('<div class="alert alert-'+s.type+' alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>'+s.msg+"</div>").slideDown(400)}).fail(function(){$("#message-area").hide().html('<div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>Something went wrong, please reload the page and try again.</div>').slideDown(400)})}});
